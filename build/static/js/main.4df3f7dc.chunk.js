(this["webpackJsonpmars-rover"]=this["webpackJsonpmars-rover"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(0),o=n.n(c),i=n(10),s=n.n(i),a=n(6),u=n(2),l=n(3),d="ROVER@CLEAR",b="ROVER@CLEAR_POSITION_LOG",j="ROVER@DELETE_OBSTACLE",f="ROVER@NEW_INSTRUCTIONS",O="ROVER@NEW_MOVE",h="ROVER@SET_OBSTACLES",v="ROVER@SET_POSITION",x=function(e){return{type:h,payload:{obstacles:e}}},p=n(7),g={x:50,y:25},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return g;default:return e}},m=n(5),w=[],C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return w;case j:var n=t.payload.obstacle,r=Object(m.a)(e),c=r.findIndex((function(e){var t=e.x,r=e.y;return t===n.x&&r===n.y}));return r.splice(c,1),r;case h:var o=t.payload.obstacles;return[].concat(Object(m.a)(e),Object(m.a)(o));default:return e}},N=n(4),R="KeyA",E="KeyD",k="KeyW",D="north",P="south",L="east",S="west",M={F:"front",L:"left",R:"right"},I=function(e,t){return-1!==e.findIndex((function(e){return e.x===t.x&&e.y===t.y}))},T=function(e){switch(e){case S:return Object(r.jsx)("span",{children:"\u2190"});case L:return Object(r.jsx)("span",{children:"\u2192"});case P:return Object(r.jsx)("span",{children:"\u2193"});case D:default:return Object(r.jsx)("span",{children:"\u2191"})}},_=function e(t,n,r){var c=V(t,r);return c.x===n.x&&c.y===n.y?e(t,n,r):[c]},A=function(e){for(var t=e.x,n=e.y,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=[],o=0,i=function(){var e=Math.floor(Math.random()*(t-0)),o=Math.floor(Math.random()*(n-0));-1===c.findIndex((function(t){return t.x===e&&t.y===o}))?c.push({x:e,y:o}):r+=1};o<r;o++)i();return Object(m.a)(new Set(c))},V=function e(t,n){var r=A(t)[0];return I(n,r)?e(t,n):r},W=function(e){switch(e){case R:return M.L;case E:return M.R;case k:return M.F;default:return null}},F=function(e){var t=e.x,n=e.y;return"Obstacle - X ".concat(t,", Y ").concat(n)},q=function(e){var t=e.grid,n=e.obstaclesCoordinates,r=e.newDirection,c=e.newPosition,o=e.state;return function(e){var t=e.obstaclesCoordinates,n=e.newPosition,r=e.grid,c=I(t,n),o=function(e,t){return t.x>=0&&t.x<=e.x&&t.y>=0&&t.y<=e.y}(r,n);return!c&&o}({grid:t,obstaclesCoordinates:n,newPosition:c})?{current:c,direction:r,log:[o.current].concat(Object(m.a)(o.log))}:Object(N.a)(Object(N.a)({},o),{},{log:[F(c)].concat(Object(m.a)(o.log))})},K=function(e){var t=e.current,n=e.direction,r=e.grid,c=e.obstaclesCoordinates,o=e.roverMovement,i=e.state,s=Object(N.a)({},t);switch(o){case M.F:switch(n){case D:return s.y=s.y+1,q({grid:r,obstaclesCoordinates:c,newDirection:n,newPosition:s,state:i});case P:return s.y=s.y-1,q({grid:r,obstaclesCoordinates:c,newDirection:n,newPosition:s,state:i});case S:return s.x=s.x-1,q({grid:r,obstaclesCoordinates:c,newDirection:n,newPosition:s,state:i});case L:return s.x=s.x+1,q({grid:r,obstaclesCoordinates:c,newDirection:n,newPosition:s,state:i});default:return i}case M.L:switch(n){case D:return s.x=s.x-1,q({grid:r,obstaclesCoordinates:c,newDirection:S,newPosition:s,state:i});case P:return s.x=s.x+1,q({grid:r,obstaclesCoordinates:c,newDirection:L,newPosition:s,state:i});case S:return s.y=s.y-1,q({grid:r,obstaclesCoordinates:c,newDirection:P,newPosition:s,state:i});case L:return s.y=s.y+1,q({grid:r,obstaclesCoordinates:c,newDirection:D,newPosition:s,state:i});default:return i}case M.R:switch(n){case D:return s.x=s.x+1,q({grid:r,obstaclesCoordinates:c,newDirection:L,newPosition:s,state:i});case P:return s.x=s.x-1,q({grid:r,obstaclesCoordinates:c,newDirection:S,newPosition:s,state:i});case S:return s.y=s.y+1,q({grid:r,obstaclesCoordinates:c,newDirection:D,newPosition:s,state:i});case L:return s.y=s.y-1,q({grid:r,obstaclesCoordinates:c,newDirection:P,newPosition:s,state:i});default:return i}default:return i}},X={current:null,direction:D,log:[]},Y={grid:y,obstacles:C,rover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return X;case b:return Object(N.a)(Object(N.a)({},e),{},{log:[]});case f:var n=t.payload,r=n.instructions,c=n.grid,o=n.obstaclesCoordinates,i=Object(m.a)(r),s=Object(N.a)({},e);return i.forEach((function(e){var t=M[e.toUpperCase()],n=s,r=n.current,i=n.direction;t&&(s=K({current:r,direction:i,grid:c,obstaclesCoordinates:o,roverMovement:t,state:s}))})),s;case O:var a=t.payload,u=a.code,l=a.grid,j=a.obstaclesCoordinates,h=W(u),x=e.current,p=e.direction;return K({current:x,direction:p,grid:l,obstaclesCoordinates:j,roverMovement:h,state:e});case v:var g=t.payload.position,y=e.current?[].concat(Object(m.a)(e.log),[e.current,g]):Object(m.a)(e.log);return Object(N.a)(Object(N.a)({},e),{},{current:g,log:y});default:return e}}},B=function(e){return e.grid},U=function(e){return e.obstacles},J=function(e){return e.rover},G=Object(p.c)(Y);function z(){var e=Object(u.a)(["\n  ","\n"]);return z=function(){return e},e}var H=o.a.forwardRef((function(e,t){return Object(r.jsx)("input",Object(N.a)(Object(N.a)({},e),{},{ref:t}))})),Q=Object(l.a)(H)(z(),(function(e){return function(e){switch(e){case"submit":case"reset":return"cursor: pointer;";default:return""}}(e.type)}));function Z(){var e=Object(u.a)(["\n  .instructions-send {\n    margin-left: 15px;\n  }\n"]);return Z=function(){return e},e}var $=Object(l.a)((function(e){var t=e.className,n=e.roverNewInstructionsMove,o=e.grid,i=e.obstaclesCoordinates,s=Object(c.useRef)(null),a=Object(c.useCallback)((function(e){var t,r;e.preventDefault(),n({grid:o,instructions:null===e||void 0===e||null===(t=e.target)||void 0===t||null===(r=t.instructions)||void 0===r?void 0:r.value,obstaclesCoordinates:i}),s.current.value=""}),[o,i,n]);return Object(r.jsxs)("form",{className:t,onSubmit:a,children:[Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{htmlFor:"instructions",children:"Rover Instructions:"}),Object(r.jsx)(Q,{type:"text",name:"instructions",id:"instructions",placeholder:"Type Rover instructions",ref:s})]}),Object(r.jsxs)("p",{children:[Object(r.jsx)(Q,{type:"reset",value:"Reset"}),Object(r.jsx)(Q,{className:"instructions-send",type:"submit",value:"Send"})]})]})}))(Z()),ee=Object(a.b)((function(e){return{grid:B(e),obstaclesCoordinates:U(e)}}),{roverNewInstructionsMove:function(e){var t=e.instructions,n=e.grid,r=e.obstaclesCoordinates;return{type:f,payload:{instructions:t,grid:n,obstaclesCoordinates:r}}}})($),te=n(19);function ne(){var e=Object(u.a)(["\n  cursor: pointer;\n"]);return ne=function(){return e},e}var re=Object(l.a)((function(e){var t=e.children,n=Object(te.a)(e,["children"]);return Object(r.jsx)("button",Object(N.a)(Object(N.a)({},n),{},{children:t}))}))(ne()),ce=Object(a.b)((function(e){return{grid:B(e),obstaclesCoordinates:U(e),rover:J(e)}}),{createObstacles:x})((function(e){var t=e.createObstacles,n=e.grid,o=e.obstaclesCoordinates,i=e.rover.current,s=Object(c.useCallback)((function(){return t(_(n,i,o))}),[t,i,n,o]);return Object(r.jsx)(re,{onClick:s,children:"Add random obstacle"})}));function oe(){var e=Object(u.a)(["\n  .delete-button {\n    float: right;\n    margin-right: 10px;\n  }\n\n  .positions-container {\n    height: 225px;\n    overflow: auto;\n  }\n"]);return oe=function(){return e},e}var ie=Object(l.a)((function(e){var t=e.className,n=e.deleteObstacle,o=e.obstacles,i=Object(c.useCallback)((function(e){return n(e)}),[n]);return Object(r.jsxs)("div",{className:t,children:[Object(r.jsxs)("p",{children:["Total Obstacles ",o.length,":"]}),Object(r.jsx)("div",{className:"positions-container",children:o.map((function(e){var t=e.x,n=e.y;return Object(r.jsxs)("p",{children:["x ",t," / y ",n,Object(r.jsx)(re,{className:"delete-button",onClick:function(){return i({x:t,y:n})},children:"Delete"})]},"".concat(t,"-").concat(n))}))})]})}))(oe()),se=Object(a.b)((function(e){return{obstacles:U(e)}}),{deleteObstacle:function(e){return{type:j,payload:{obstacle:e}}}})(ie);function ae(){var e=Object(u.a)(["\n  display: inline-block;\n  height: 416px;\n  overflow: hidden;\n  border: 1px solid black;\n  margin-left: 15px;\n  width: 200px;\n"]);return ae=function(){return e},e}var ue=Object(l.a)((function(e){var t=e.className;return Object(r.jsxs)("div",{className:t,children:[Object(r.jsx)(ee,{}),Object(r.jsx)(ce,{}),Object(r.jsx)(se,{})]})}))(ae());function le(){var e=Object(u.a)(["\n  text-align: justify;\n"]);return le=function(){return e},e}var de=Object(l.a)((function(e){var t=e.className;return Object(r.jsxs)("div",{className:t,children:[Object(r.jsx)("p",{children:"You\u2019re part of the team that explores Mars by sending remotely controlled vehicles to the surface of the planet. We create a software that translates the commands sent from earth to instructions that are understood by the rover."}),Object(r.jsx)("p",{children:"We can send instructions by keyboard one by one or sending a battery of it with an input."}),"The rover can move:",Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:["Forward: ",Object(r.jsx)("b",{children:"F"})," in input or ",Object(r.jsx)("b",{children:"W"})," on keyboard"]}),Object(r.jsxs)("li",{children:["Left: ",Object(r.jsx)("b",{children:"L"})," in input or ",Object(r.jsx)("b",{children:"A"})," on keyboard"]}),Object(r.jsxs)("li",{children:["Right: ",Object(r.jsx)("b",{children:"R"})," in input or ",Object(r.jsx)("b",{children:"D"})," on keyboard"]})]}),Object(r.jsx)("p",{children:"The rover will detect if there are an obstacle in the next movement, if there is anything there it will move, if not, it will stay in the same position and direction."}),Object(r.jsxs)("p",{children:["On the first load we generate randomly ",Object(r.jsx)("b",{children:"50 obstacles"})," and the rover position aswell, so everytime we refresh the page we will get different grid configurations. At the same time, we add a button to add a random obstacle everytime we click on it."]}),Object(r.jsxs)("p",{children:["We can see in live in the grid the rover movement, and we have"," ",Object(r.jsx)("b",{children:"2 logs"})," to check the coordinates of obstacles and the rover historic movement. At the same obstacle log, if you want, you can remove the obstacle using the Delete button on each one."]})]})}))(le());function be(){var e=Object(u.a)(["\n  display: inline-block;\n\n  .grid-rows {\n    height: 16px;\n    margin: 0;\n\n    .grid-square {\n      border-top: 1px solid black;\n      border-right: 1px solid black;\n      display: inline-block;\n      width: 15px;\n      height: 15px;\n\n      &:first-child {\n        border-left: 1px solid black;\n      }\n      &-obstacle {\n        background-color: black;\n      }\n\n      &-rover {\n        background-color: green;\n      }\n    }\n  }\n\n  div:last-of-type .grid-square {\n    border-bottom: 1px solid black;\n  }\n"]);return be=function(){return e},e}var je=Object(l.a)((function(e){var t=e.className,n=e.obstacles,c=e.grid,o=c.x,i=c.y,s=e.rover,a=s.current,u=s.direction;return Object(r.jsx)("div",{className:t,children:function(){for(var e=[],t=o,c=i,s=0,l=Object(m.a)(n);s<=c;s++){for(var d=0,b=[],j=function(){var e=d,t=c-s,n="".concat(e,"-").concat(t),o=!1,i=!1;if(e===(null===a||void 0===a?void 0:a.x)&&t===(null===a||void 0===a?void 0:a.y))i=!0;else if(l.length){var j=l.findIndex((function(n){return n.x===e&&n.y===t}));-1!==j&&(o=!0,l.splice(j,1))}b.push(Object(r.jsx)("div",{className:"grid-square ".concat(i?"grid-square-rover":o?"grid-square-obstacle":""),id:n,children:i?T(u):""},n))};d<=t;d++)j();e.push(Object(r.jsx)("div",{className:"grid-rows",children:b},s))}return e}().map((function(e){return e}))})}))(be()),fe=Object(a.b)((function(e){return{obstacles:U(e),grid:B(e),rover:J(e)}}),{})(je);function Oe(){var e=Object(u.a)(["\n  display: inline-block;\n  height: 416px;\n  overflow: hidden;\n  border: 1px solid black;\n  margin-left: 30px;\n  width: 200px;\n\n  .delete-button {\n    float: right;\n    margin-right: 30px;\n  }\n\n  .positions-container {\n    height: 225px;\n    overflow: auto;\n  }\n"]);return Oe=function(){return e},e}var he=function(e){return"string"===typeof e?e:"X ".concat(e.x,", Y ").concat(e.y)},ve=Object(l.a)((function(e){var t=e.className,n=e.rover,o=n.current,i=n.direction,s=n.log,a=e.roverClearPositionLog,u=Object(c.useCallback)(a,[a]);return Object(r.jsxs)("div",{className:t,children:[o&&Object(r.jsxs)("p",{children:["Current position:",Object(r.jsx)("br",{}),Object(r.jsxs)("b",{children:["X ",o.x,", Y ",o.y]})]}),Object(r.jsxs)("p",{children:["Current direction: ",Object(r.jsx)("b",{children:i})]}),Object(r.jsx)(re,{onClick:u,children:"Clear Log"}),Object(r.jsx)("p",{children:"Last positions: "}),Object(r.jsx)("div",{className:"positions-container",children:s.map((function(e,t){return Object(r.jsx)("p",{children:he(e)},t)}))})]})}))(Oe()),xe=Object(a.b)((function(e){return{rover:J(e)}}),{roverClearPositionLog:function(){return{type:b}}})(ve);function pe(){var e=Object(u.a)(["\n  margin: 0 0 30px;\n"]);return pe=function(){return e},e}var ge=Object(l.a)((function(e){var t=e.className;return Object(r.jsx)("h1",{className:t,children:"Mars Rover Mission"})}))(pe());function ye(){var e=Object(u.a)(["\n  padding: 50px;\n  text-align: center;\n\n  main {\n    margin-top: 15px;\n  }\n"]);return ye=function(){return e},e}var me=Object(l.a)((function(e){var t=e.className,n=e.createObstacles,o=e.grid,i=e.obstaclesCoordinates,s=e.roverClear,a=e.roverNewKeyboardMove,u=e.roverSetPosition;return Object(c.useEffect)((function(){var e=A(o,50),t=V(o,e);n(e),u(t)}),[n,o,u]),Object(c.useEffect)((function(){var e=function(e){var t=e.code;switch(t){case R:case E:case k:return a({code:t,grid:o,obstaclesCoordinates:i});default:return null}};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[o,i,a]),Object(c.useEffect)((function(){return function(){s()}}),[s]),Object(r.jsxs)("div",{className:t,children:[Object(r.jsx)("header",{children:Object(r.jsx)(ge,{})}),Object(r.jsx)("section",{children:Object(r.jsx)(de,{})}),Object(r.jsxs)("main",{className:"obstacles-container",children:[Object(r.jsx)(fe,{}),Object(r.jsx)(xe,{}),Object(r.jsx)(ue,{})]})]})}))(ye()),we=Object(a.b)((function(e){return{grid:B(e),obstaclesCoordinates:U(e)}}),{createObstacles:x,roverClear:function(){return{type:d}},roverNewKeyboardMove:function(e){var t=e.code,n=e.grid,r=e.obstaclesCoordinates;return{type:O,payload:{code:t,grid:n,obstaclesCoordinates:r}}},roverSetPosition:function(e){return{type:v,payload:{position:e}}}})(me),Ce=n(18),Ne=function(){var e=[],t=window.__REDUX_DEVTOOLS_EXTENSION__;"function"===typeof t&&e.push(t({name:"- ROVER MARS -"}));var n=p.d.apply(void 0,[Object(p.a)(Ce.a)].concat(e));return{store:Object(p.e)(G,{},n)}},Re=(n(32),Ne().store);s.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(a.a,{store:Re,children:Object(r.jsx)(we,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.4df3f7dc.chunk.js.map